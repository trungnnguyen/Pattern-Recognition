[u1,d1]=eig(cov(A(1:500,1),A(1:500,2)));
[u2,d2]=eig(cov(A(501:1000,1),A(501:1000,2)));
[u3,d3]=eig(cov(A(1001:1500,1),A(1001:1500,2)));
e11=u1(:,1);
e12=u1(:,2);
e21=u2(:,1);
e22=u2(:,2);
e31=u3(:,1);
e32=u3(:,2);
hold on;
scatter(A(1:500,1),A(1:500,2),'r');
scatter(A(501:1000,1),A(501:1000,2),'g');
scatter(A(1001:1500,1),A(1001:1500,2),'b');
% plot([mean(A(1:500,1));e11(1)],[mean(A(1:500,2));e11(2)],'k');
% plot([mean(A(1:500,1));e12(1)],[mean(A(1:500,2));e12(2)],'k');
% plot([mean(A(501:1000,1));e21(1)],[mean(A(501:1000,2));e21(2)],'k');
% plot([mean(A(501:1000,1));e22(1)],[mean(A(501:1000,2));e22(2)],'k');
% plot([mean(A(1001:1500,1));e31(1)],[mean(A(1001:1500,2));e31(2)],'k');
% plot([mean(A(1001:1500,1));e31(1)],[mean(A(1001:1500,2));e32(2)],'k');
set(gca,'FontSize',16);
xlabel('Feature 1');
ylabel('Feature 2');
title('Real Data (2)');

